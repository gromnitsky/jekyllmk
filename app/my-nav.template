<!-- -*-html-*- -->

<nav class="my-nav" [class.my-nav_aside]="ns.aside">
  <h2>Archive</h2>

  <ul class="my-nav-menu">
    <li *ngFor="#year of ns?.data?.cal; #yindex = index">
      <span (click)="toggle_view($event)"
	    class="{{ plus_or_minus(yindex) }}">
      </span>
      {{ year.year }}

      <ul class="my-nav-menu" [class.my-nav-menu_items-collapsed]="!cal_item_match_year(yindex)">
	<li *ngFor="#month of year.months; #mindex = index">
	  <span (click)="toggle_view($event)"
		class="{{ plus_or_minus(yindex, mindex) }}">
	  </span>
	  {{ month.month }}

	  <ul [class.my-nav-menu_items-collapsed]="!cal_item_match_month(yindex, mindex)">
	    <li *ngFor="#post of month.posts; #pindex = index">
	      <a [routerLink]="['Post', {year: post.y, month: post.m, day: post.d, name: post.n } ]" [class.selected]="cal_item_match(yindex, mindex, pindex)">
		{{ post.s }}
	      </a>
	    </li>
	  </ul>

	</li>
      </ul>

    </li>
  </ul>

  <h2>Authors</h2>
  <ul>
    <li *ngFor="#idx of ns?.data?.index?.authors">{{ idx.name }} ({{ idx.count }})</li>
  </ul>
</nav>
