<!-- -*-html-*- -->

<h2>Tags Search</h2>

<form class="my-tags-form" (ngSubmit)="on_submit()">
  <p>
    <label>

      <div class="my-tags-help">
	<div>
	  <b>Grammar (ABNF)</b>
	  <pre>query = list
list = tag *(separator tag)
tag = [op] name
op = "-"
name = 1*(ALPHA / DIGIT / "_" / SP)
separator = ","</pre>

	  where "," means <code>AND</code>, "-" means <code>NOT</code>.
	</div>

	<div>
	  <b>Examples</b>
	  <pre>Тарас Шевченко,-image</pre>
	</div>
      </div>

      <input type="text" spellCheck="false" required
	     [(ngModel)]="query">
    </label>

    <input type="submit">
  </p>
</form>

<p *ngIf="result.length == 0">
  No match.
</p>

<p *ngIf="result.length != 0">
  Matched: {{ result.length }} post(s).
</p>

<ul>
 <li *ngFor="#idx of result">
   {{ ns.data.index.posts[idx].y }}/{{ ns.data.index.posts[idx].m }}/{{ ns.data.index.posts[idx].d }}
   <a [routerLink]="['Post', {year: ns.data.index.posts[idx].y, month: ns.data.index.posts[idx].m, day: ns.data.index.posts[idx].d, name: ns.data.index.posts[idx].n }]">
     {{ ns.data.index.posts[idx].s }}
   </a>
  </li>
</ul>
